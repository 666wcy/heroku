{"version":3,"sources":["App.js","pages/Browse/Browse.js","pages/Browse/CategoryBrowse.js","components/Gallery.js","pages/Login/Login.js","components/Logout.js","components/Nav.js","components/PageMenu.js","pages/Search/Search.js","pages/Settings/Settings.js","pages/Settings/SettingsLoginForm.js","theme.js","functions/uuid.js","pages/View/View.js","index.js"],"names":["App","props","state","auth","sessionStorage","getItem","localStorage","isLoaded","server","to","Component","Browse","metadata","this","url","axios","get","then","response","setState","data","catch","error","console","alert","history","push","status","request","className","color","size","CategoryBrowse","category","match","params","page","parseInt","queryString","parse","location","search","range","undefined","pages","Math","ceil","PageMenu","thisprops","Gallery","length","map","name","uuid","children","item","id","src","posterPath","alt","title","Typography","Login","password","tempServer","username","handleTempServerChange","bind","handlePassChange","handleUserChange","handleSubmit","dismissError","evt","preventDefault","setItem","target","value","classes","Container","component","maxWidth","CssBaseline","paper","Avatar","avatar","variant","form","onSubmit","noValidate","style","data-test","onClick","TextField","margin","required","fullWidth","label","autoComplete","onChange","autoFocus","type","Button","submit","block","withStyles","theme","marginTop","spacing","display","flexDirection","alignItems","backgroundColor","palette","secondary","main","width","withTheme","Logout","clear","Nav","accounts","categories","account_list","category_list","NavUI","useStyles","makeStyles","root","grow","flexGrow","breakpoints","up","position","borderRadius","shape","fade","common","white","marginRight","marginLeft","searchIcon","padding","height","pointerEvents","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","browse","useState","setSearch","AppBar","Toolbar","noWrap","window","hash","InputBase","placeholder","input","inputProps","BrowseMenu","AccountMenu","React","menuAnchorEl","setMenuAnchorEl","handleClose","aria-controls","aria-haspopup","event","currentTarget","Menu","anchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","open","Boolean","onClose","MenuItem","pic","includes","IconButton","aria-label","left","transform","pathname","Pagination","count","renderItem","PaginationItem","Search","query","q","Settings","secret","handleCategoryTypeChange","handleCategoryNameChange","handleCategoryIdChange","handleCategoryDriveIdChange","handleAddCategory","handleRemoveCategory","handleSecretChange","handleAccountUsernameChange","handleAccountPasswordChange","handleAccountPicChange","handleAddAccount","handleRemoveAccount","config","postConfig","tempSecret","secret_key","removeItem","fetch","method","headers","Accept","body","JSON","stringify","ok","post","split","n","configCopy","driveId","splice","Form","select","account","textAlign","SettingsLoginForm","createMuiTheme","primary","warning","success","background","default","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","View","MovieView","TVBView","TVSView","source","poster","sources","options","controls","overview","PlayerMenu","ChildrenMenu","isHash","log","class","child","marginBottom","href","ReactDOM","render","ThemeProvider","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.13845319.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      isLoaded: false,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return <Redirect to=\"/browse\" />;\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Gallery, Nav } from \"../../components\";\r\n\r\nexport default class Browse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      isLoaded: false,\r\n      metadata: {},\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { auth, server } = this.state;\r\n    let url = `${server}/api/v1/metadata?a=${auth}&r=0:16&s=popularity-des`;\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Browse\">\r\n        <Nav />\r\n        <Gallery metadata={metadata} />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <ClipLoader color=\"#4197fe\" size={75} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport { Gallery, Nav, PageMenu } from \"../../components\";\r\n\r\nexport default class CategoryBrowse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      category: this.props.match.params.category,\r\n      isLoaded: false,\r\n      metadata: {},\r\n      page: parseInt(queryString.parse(this.props.location.search).page) || 1,\r\n      range: `${\r\n        queryString.parse(this.props.location.search).page === undefined\r\n          ? \"0:16\"\r\n          : `${\r\n              (parseInt(queryString.parse(this.props.location.search).page) -\r\n                1) *\r\n              16\r\n            }:${\r\n              parseInt(queryString.parse(this.props.location.search).page) * 16\r\n            }`\r\n      }`,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { auth, category, range, server } = this.state;\r\n    let url = `${server}/api/v1/metadata?a=${auth}&c=${category}&r=${range}&s=alphabet-asc`;\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data,\r\n          pages: Math.ceil(response.data[0][\"length\"] / 16),\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata, page, pages } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"CategoryBrowse\">\r\n        <Nav />\r\n        <Gallery metadata={metadata} />\r\n        <PageMenu props={{ page: page, pages: pages, thisprops: this.props }} />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <ClipLoader color=\"#4197fe\" size={75} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport { uuid } from \"../components\";\r\nimport \"./Gallery.css\";\r\n\r\nexport default class Gallery extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      metadata: this.props.metadata,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { metadata } = this.state;\r\n\r\n    return (\r\n      <div className=\"Gallery\">\r\n        {metadata.length\r\n          ? metadata.map((category) => (\r\n              <div className=\"category\" key={uuid()}>\r\n                <Link\r\n                  to={`/browse/${category.name}`}\r\n                  key={uuid()}\r\n                  className=\"category__title no_decoration_link\"\r\n                >\r\n                  {category.name}\r\n                </Link>\r\n                <div className=\"items\">\r\n                  {category.children.length\r\n                    ? category.children.map((item) => (\r\n                        <figure\r\n                          className=\"item__figure\"\r\n                          key={uuid()}\r\n                        >\r\n                          <Link\r\n                            to={`/view/${item.id}`}\r\n                            key={uuid()}\r\n                          >\r\n                            <img\r\n                              src={item.posterPath}\r\n                              key={uuid()}\r\n                              className=\"item__poster\"\r\n                              alt={item.title}\r\n                            />\r\n                          </Link>\r\n                          <Typography\r\n                            className=\"item__title\"\r\n                            key={uuid()}\r\n                          >\r\n                            {item.title}\r\n                          </Typography>\r\n                        </figure>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: \"\",\r\n      error: \"\",\r\n      password: \"\",\r\n      server: \"\",\r\n      tempServer: \"http://localhost:31145\",\r\n      username: \"\",\r\n    };\r\n\r\n    this.handleTempServerChange = this.handleTempServerChange.bind(this);\r\n    this.handlePassChange = this.handlePassChange.bind(this);\r\n    this.handleUserChange = this.handleUserChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.dismissError = this.dismissError.bind(this);\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { auth, password, server, tempServer, username } = this.state;\r\n    if (!tempServer) {\r\n      return this.setState({ error: \"Server is required\" });\r\n    }\r\n    if (!username) {\r\n      return this.setState({ error: \"Username is required\" });\r\n    }\r\n    if (!password) {\r\n      return this.setState({ error: \"Password is required\" });\r\n    }\r\n    axios\r\n      .get(`${tempServer}/api/v1/auth?u=${username}&p=${password}`)\r\n      .then((response) =>\r\n        this.setState({\r\n          auth: response.data.auth,\r\n          server: tempServer,\r\n        })\r\n      )\r\n      .then(() => {\r\n        if (auth && server) {\r\n          localStorage.setItem(\"server\", server);\r\n          sessionStorage.setItem(\"server\", server);\r\n          localStorage.setItem(\"auth\", auth);\r\n          sessionStorage.setItem(\"auth\", auth);\r\n          this.props.history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n    return this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleTempServerChange(evt) {\r\n    this.setState({\r\n      tempServer: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handleUserChange(evt) {\r\n    this.setState({\r\n      username: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handlePassChange(evt) {\r\n    this.setState({\r\n      password: evt.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { error, password, tempServer, username } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form\r\n            className={classes.form}\r\n            onSubmit={this.handleSubmit}\r\n            noValidate\r\n          >\r\n            {error && (\r\n              <div style={{}}>\r\n                <h3 data-test=\"error\" onClick={this.dismissError}>\r\n                  <button onClick={this.dismissError}>✖</button>\r\n                  {error}\r\n                </h3>\r\n              </div>\r\n            )}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"server\"\r\n              label=\"Server\"\r\n              name=\"server\"\r\n              autoComplete=\"server\"\r\n              onChange={this.handleTempServerChange}\r\n              value={tempServer}\r\n              autoFocus\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              onChange={this.handleUserChange}\r\n              value={username}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={this.handlePassChange}\r\n              value={password}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              block\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Login);\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default class Logout extends Component {\r\n  render() {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n}\r\n","import React, { Component, useState } from \"react\";\r\n\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { uuid } from \"../components\";\r\n\r\nexport default class Nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      accounts: {},\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      categories: {},\r\n      isLoaded: false,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { auth, server } = this.state;\r\n    let url = `${server}/api/v1/environment?a=${auth}`;\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          accounts: response.data.account_list,\r\n          categories: response.data.category_list,\r\n          isLoaded: true,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { accounts, categories, isLoaded } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          props={{\r\n            categories: categories,\r\n            accounts: accounts,\r\n          }}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\"></div>\r\n    );\r\n  }\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: \"#1f1f1f\",\r\n    color: \"#ffffff\",\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n  browse: {\r\n    marginRight: \"15px\",\r\n  },\r\n}));\r\n\r\nexport function NavUI(props) {\r\n  const classes = useStyles();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const searchChange = (evt) => {\r\n    setSearch(evt.target.value);\r\n  };\r\n\r\n  const searchSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    window.location.hash = `#/search/${search}`;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\" className={classes.root}>\r\n        <Toolbar>\r\n          <Link to=\"/\" className=\"no_decoration_link\">\r\n            <Typography className={classes.title} variant=\"h6\" noWrap>\r\n              libDrive\r\n            </Typography>\r\n          </Link>\r\n          <form className={classes.search} onSubmit={searchSubmit}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ \"aria-label\": \"search\" }}\r\n              onChange={searchChange}\r\n            />\r\n          </form>\r\n          <div className={classes.grow} />\r\n          <BrowseMenu props={props.props.categories} />\r\n          <AccountMenu props={props.props.accounts} />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function BrowseMenu(props) {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n  const classes = useStyles();\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.browse}>\r\n      <Button\r\n        aria-controls=\"browse-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        Browse\r\n      </Button>\r\n      <Menu\r\n        id=\"browse-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        keepMounted\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {props.props.length\r\n          ? props.props.map((category) => (\r\n              <Link\r\n                to={`/browse/${category.name}`}\r\n                key={uuid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem onClick={handleClose}>{category.name}</MenuItem>\r\n              </Link>\r\n            ))\r\n          : null}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function AccountMenu(props) {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  let pic = <AccountCircle />;\r\n  if (props.props.pic.includes(\"http\") || props.props.pic.includes(\"www\")) {\r\n    pic = <img src={props.props.pic} width=\"32px\" alt=\"profile-pic\"></img>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"more\"\r\n        aria-controls=\"account-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        {pic}\r\n      </IconButton>\r\n      <Menu\r\n        id=\"account-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        keepMounted\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <Link to={\"/settings\"} className=\"no_decoration_link\">\r\n          <MenuItem onClick={handleClose}>Settings</MenuItem>\r\n        </Link>\r\n        <Link to={\"/logout\"} className=\"no_decoration_link\">\r\n          <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n        </Link>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport PaginationItem from \"@material-ui/lab/PaginationItem\";\r\n\r\nimport { uuid } from \"../components\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      position: \"absolute\",\r\n      left: \"50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      marginTop: theme.spacing(4),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function PageMenu(props) {\r\n  let { page, pages, thisprops } = props.props;\r\n  const classes = useStyles();\r\n\r\n  if (page > pages) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: thisprops.location.pathname,\r\n          search: `?page=${pages}`,\r\n        }}\r\n      />\r\n    );\r\n  } else {\r\n    return (\r\n      <div className={classes.root}>\r\n        <Pagination\r\n          page={page}\r\n          count={pages}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          renderItem={(item) => (\r\n            <Link\r\n              to={{\r\n                pathname: thisprops.location.pathname,\r\n                search: `?page=${item.page}`,\r\n              }}\r\n              key={uuid()}\r\n              className=\"no_decoration_link\"\r\n            >\r\n              <PaginationItem {...item} />\r\n            </Link>\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Gallery, Nav } from \"../../components\";\r\n\r\nexport default class Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      isLoaded: false,\r\n      metadata: [],\r\n      query: this.props.match.params.q,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { auth, query, server } = this.state;\r\n    let url = `${server}/api/v1/metadata?a=${auth}&q=${query}`;\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Search\">\r\n        <Nav />\r\n        <Gallery metadata={metadata} />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <ClipLoader color=\"#4197fe\" size={75} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Nav, uuid } from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  Form: {\r\n    textAlign: \"center\",\r\n    \"& .MuiTextField-root\": {\r\n      width: \"30ch\",\r\n      margin: theme.spacing(1),\r\n      textAlign: \"left\",\r\n    },\r\n    \"& .MuiTypography-root\": {\r\n      margin: \"30px 30px\",\r\n    },\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(4, 0, 2),\r\n    width: \"20ch\",\r\n  },\r\n});\r\n\r\nexport class Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      error: \"\",\r\n      isLoaded: false,\r\n      secret: sessionStorage.getItem(\"secret\"),\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n\r\n    this.handleCategoryTypeChange = this.handleCategoryTypeChange.bind(this);\r\n    this.handleCategoryNameChange = this.handleCategoryNameChange.bind(this);\r\n    this.handleCategoryIdChange = this.handleCategoryIdChange.bind(this);\r\n    this.handleCategoryDriveIdChange = this.handleCategoryDriveIdChange.bind(\r\n      this\r\n    );\r\n    this.handleAddCategory = this.handleAddCategory.bind(this);\r\n    this.handleRemoveCategory = this.handleRemoveCategory.bind(this);\r\n    this.handleSecretChange = this.handleSecretChange.bind(this);\r\n    this.handleAccountUsernameChange = this.handleAccountUsernameChange.bind(\r\n      this\r\n    );\r\n    this.handleAccountPasswordChange = this.handleAccountPasswordChange.bind(\r\n      this\r\n    );\r\n    this.handleAccountPicChange = this.handleAccountPicChange.bind(this);\r\n    this.handleAddAccount = this.handleAddAccount.bind(this);\r\n    this.handleRemoveAccount = this.handleRemoveAccount.bind(this);\r\n    this.dismissError = this.dismissError.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, secret, server } = this.state;\r\n\r\n    axios\r\n      .get(`${server}/api/v1/config?secret=${secret}`)\r\n      .then((response) =>\r\n        this.setState({\r\n          config: response.data,\r\n          isLoaded: true,\r\n          postConfig: response.data,\r\n          tempSecret: response.data.secret_key,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid.\");\r\n            sessionStorage.removeItem(\"secret\");\r\n            this.props.history.push(\"/settings/login\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    fetch(`${server}/api/v1/config?secret=${secret}`, {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(this.state.postConfig),\r\n    }).then((response) => {\r\n      if (response.ok) {\r\n        alert(\r\n          \"The config has been updated on the backend. The backend may need to be restarted for some settings to update.\"\r\n        );\r\n      }\r\n    });\r\n    axios\r\n      .post(`${server}/api/v1/config?secret=${secret}`, this.state.postConfig)\r\n      .then((response) => {\r\n        alert(\r\n          \"The config has been updated on the backend. The backend may need to be restarted for some settings to update.\"\r\n        );\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  handleCategoryTypeChange(evt) {\r\n    var value = evt.target.value.split(\"_\")[0];\r\n    var n = evt.target.value.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.category_list[n].type = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleCategoryNameChange(evt) {\r\n    var value = evt.target.value;\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.category_list[n].name = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleCategoryIdChange(evt) {\r\n    var value = evt.target.value;\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.category_list[n].id = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleCategoryDriveIdChange(evt) {\r\n    var value = evt.target.value;\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.category_list[n].driveId = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleAddCategory(evt) {\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.category_list.push({ type: \"\", name: \"\", id: \"\", driveId: \"\" });\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleRemoveCategory(evt) {\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.category_list.splice(n, 1);\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleSecretChange(evt) {\r\n    var value = evt.target.value;\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.secret_key = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleAccountUsernameChange(evt) {\r\n    var value = evt.target.value;\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.account_list[n].username = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleAccountPasswordChange(evt) {\r\n    var value = evt.target.value;\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.account_list[n].password = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleAccountPicChange(evt) {\r\n    var value = evt.target.value;\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.account_list[n].pic = value;\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleAddAccount(evt) {\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.account_list.push({ username: \"\", password: \"\", pic: \"\" });\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  handleRemoveAccount(evt) {\r\n    var n = evt.target.id.split(\"_\")[1];\r\n\r\n    var configCopy = this.state.postConfig;\r\n    configCopy.account_list.splice(n, 1);\r\n\r\n    this.setState({\r\n      postConfig: configCopy,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { config, isLoaded } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Settings\">\r\n        <Nav />\r\n        <form\r\n          className={classes.Form}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <Typography variant=\"h3\">Categories</Typography>\r\n          {config.category_list.length\r\n            ? config.category_list.map((category, n) => (\r\n                <div style={{ margin: \"30px\" }}>\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`category-type_${n}`}\r\n                    select\r\n                    label=\"Select Type\"\r\n                    variant=\"outlined\"\r\n                    value={`${this.state.postConfig.category_list[n].type}_${n}`}\r\n                    onChange={this.handleCategoryTypeChange}\r\n                  >\r\n                    <MenuItem key={uuid()} value={`movies_${n}`}>\r\n                      Movies\r\n                    </MenuItem>\r\n                    <MenuItem key={uuid()} value={`tv_${n}`}>\r\n                      TV Shows\r\n                    </MenuItem>\r\n                    <MenuItem key={uuid()} value={`other_${n}`}>\r\n                      Other\r\n                    </MenuItem>\r\n                  </TextField>\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`category-name_${n}`}\r\n                    label=\"Name\"\r\n                    variant=\"outlined\"\r\n                    value={this.state.postConfig.category_list[n].name}\r\n                    onChange={this.handleCategoryNameChange}\r\n                  />\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`category-id_${n}`}\r\n                    label=\"Folder ID\"\r\n                    variant=\"outlined\"\r\n                    value={this.state.postConfig.category_list[n].id}\r\n                    onChange={this.handleCategoryIdChange}\r\n                  />\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`category-driveId_${n}`}\r\n                    label=\"Team Drive ID\"\r\n                    variant=\"outlined\"\r\n                    value={this.state.postConfig.category_list[n].driveId}\r\n                    onChange={this.handleCategoryDriveIdChange}\r\n                  />\r\n                  <IconButton\r\n                    aria-label=\"remove\"\r\n                    id={`category-remove_${n}`}\r\n                    onClick={this.handleRemoveCategory}\r\n                  >\r\n                    <RemoveIcon id={`category-remove_${n}`} />\r\n                  </IconButton>\r\n                </div>\r\n              ))\r\n            : null}\r\n          <IconButton aria-label=\"add\" onClick={this.handleAddCategory}>\r\n            <AddIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h3\">Accounts</Typography>\r\n          {config.account_list.length\r\n            ? config.account_list.map((account, n) => (\r\n                <div style={{ margin: \"30px\" }}>\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`account-username_${n}`}\r\n                    label=\"Username\"\r\n                    variant=\"outlined\"\r\n                    value={this.state.postConfig.account_list[n].username}\r\n                    onChange={this.handleAccountUsernameChange}\r\n                  />\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`account-password_${n}`}\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                    value={this.state.postConfig.account_list[n].password}\r\n                    onChange={this.handleAccountPasswordChange}\r\n                  />\r\n                  <TextField\r\n                    className=\"TextField\"\r\n                    id={`account-pic_${n}`}\r\n                    label=\"Picture\"\r\n                    variant=\"outlined\"\r\n                    value={this.state.postConfig.account_list[n].pic}\r\n                    onChange={this.handleAccountPicChange}\r\n                  />\r\n                  <IconButton\r\n                    aria-label=\"remove\"\r\n                    id={`account-remove_${n}`}\r\n                    onClick={this.handleRemoveAccount}\r\n                  >\r\n                    <RemoveIcon id={`account-remove_${n}`} />\r\n                  </IconButton>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      justifyContent: \"center\",\r\n                      marginTop: \"20px\",\r\n                    }}\r\n                  >\r\n                    {(\r\n                      <img\r\n                        src={config.account_list[n].pic}\r\n                        width=\"64px\"\r\n                        alt=\"profile-pic\"\r\n                      />\r\n                    ) || <AccountCircle />}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            : null}\r\n          <IconButton aria-label=\"add\" onClick={this.handleAddAccount}>\r\n            <AddIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h3\">Secret Key</Typography>\r\n          <TextField\r\n            className=\"TextField\"\r\n            id=\"outlined-basic\"\r\n            label=\"Secret Key\"\r\n            type=\"password\"\r\n            variant=\"outlined\"\r\n            value={this.state.postConfig.secret_key}\r\n            onChange={this.handleSecretChange}\r\n          />\r\n          <br />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            block\r\n          >\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <ClipLoader color=\"#4197fe\" size={75} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Settings);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Nav } from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass SettingsLoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      error: \"\",\r\n      secret: \"\",\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n\r\n    this.handleSecretChange = this.handleSecretChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.dismissError = this.dismissError.bind(this);\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    if (!secret) {\r\n      return this.setState({ error: \"Secret is required\" });\r\n    }\r\n\r\n    axios\r\n      .get(`${server}/api/v1/config?secret=${secret}`)\r\n      .then((response) => {\r\n        sessionStorage.setItem(\"secret\", secret);\r\n        this.props.history.push(\"/settings\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid.\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n    return this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleSecretChange(evt) {\r\n    this.setState({\r\n      secret: evt.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { error, secret } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"SettingsLoginForm\">\r\n        <Nav />\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Sign in\r\n            </Typography>\r\n            <form\r\n              className={classes.form}\r\n              onSubmit={this.handleSubmit}\r\n              noValidate\r\n            >\r\n              {error && (\r\n                <div style={{}}>\r\n                  <h3 data-test=\"error\" onClick={this.dismissError}>\r\n                    <button onClick={this.dismissError}>✖</button>\r\n                    {error}\r\n                  </h3>\r\n                </div>\r\n              )}\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"secret\"\r\n                label=\"Secret\"\r\n                name=\"secret\"\r\n                type=\"password\"\r\n                autoComplete=\"secret\"\r\n                onChange={this.handleSecretChange}\r\n                value={secret}\r\n                autoFocus\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                block\r\n              >\r\n                Sign In\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SettingsLoginForm);\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#111\",\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","export default function uuidv4() {\r\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\r\n    (\r\n      c ^\r\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\r\n    ).toString(16)\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport Plyr from \"plyr-react\";\r\nimport \"plyr-react/dist/plyr.css\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport { Nav, uuid } from \"../../components\";\r\nimport \"./View.css\";\r\n\r\nexport default class View extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      isLoaded: false,\r\n      metadata: {},\r\n      id: this.props.match.params.id,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let { auth, id, server } = this.state;\r\n    let url = `${server}/api/v1/metadata?a=${auth}&id=${id}`;\r\n\r\n    axios\r\n      .get(url)\r\n      .then((response) => {\r\n        this.setState({\r\n          metadata: response.data,\r\n          isLoaded: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          alert(\"You are not authenticated\");\r\n          this.props.history.push(\"/logout\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            alert(\"Your credentials are invalid. Logging you out now.\");\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            alert(\"Something went wrong while communicating with the backend\");\r\n          }\r\n        } else if (error.request) {\r\n          alert(\r\n            `libDrive could not communicate with the backend. Is ${server} the correct address?`\r\n          );\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n    let state = this.state;\r\n    state[\"thisprops\"] = this.props;\r\n\r\n    return isLoaded && metadata.type == \"file\" ? (\r\n      <div className=\"View\">\r\n        <Nav />\r\n        <MovieView props={state} />\r\n      </div>\r\n    ) : isLoaded && metadata.type == \"directory\" && metadata.title ? (\r\n      <div className=\"View\">\r\n        <Nav />\r\n        <TVBView props={state} />\r\n      </div>\r\n    ) : isLoaded && metadata.type == \"directory\" ? (\r\n      <div className=\"View\">\r\n        <Nav />\r\n        <TVSView props={state} />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <ClipLoader color=\"#4197fe\" size={75} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport function MovieView(props) {\r\n  let { auth, id, metadata, server } = props.props;\r\n\r\n  return (\r\n    <div className=\"MovieView\">\r\n      <div className=\"plyr__component\">\r\n        <Plyr\r\n          source={{\r\n            type: \"video\",\r\n            poster:\r\n              `https://drive.google.com/thumbnail?sz=w1920&id=${metadata.id}` ||\r\n              \"\",\r\n            sources: [\r\n              {\r\n                src: `${server}/api/v1/download/${metadata.name}?a=${auth}&id=${id}`,\r\n              },\r\n            ],\r\n          }}\r\n          options={{\r\n            controls: [\r\n              \"play-large\",\r\n              \"rewind\",\r\n              \"play\",\r\n              \"fast-forward\",\r\n              \"progress\",\r\n              \"current-time\",\r\n              \"duration\",\r\n              \"mute\",\r\n              \"volume\",\r\n              \"captions\",\r\n              \"settings\",\r\n              \"pip\",\r\n              \"airplay\",\r\n              \"download\",\r\n              \"fullscreen\",\r\n            ],\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"info__container\">\r\n        <div className=\"info__left\">\r\n          <img className=\"info__poster\" src={metadata.posterPath} />\r\n        </div>\r\n        <div className=\"info__right\">\r\n          <Typography variant=\"h2\" className=\"info__title\">\r\n            {metadata.title}\r\n          </Typography>\r\n          <Typography\r\n            variant=\"body1\"\r\n            className=\"info__overview\"\r\n            style={{ marginTop: \"30px\" }}\r\n          >\r\n            {metadata.overview}\r\n          </Typography>\r\n          <PlayerMenu props={props.props} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function TVBView(props) {\r\n  let { metadata } = props.props;\r\n\r\n  return (\r\n    <div className=\"TVBView\">\r\n      <div className=\"info__container\">\r\n        <div className=\"info__left\">\r\n          <img className=\"info__poster\" src={metadata.posterPath} />\r\n        </div>\r\n        <div className=\"info__right\">\r\n          <Typography variant=\"h2\" className=\"info__title\">\r\n            {metadata.title}\r\n          </Typography>\r\n          <Typography\r\n            variant=\"body1\"\r\n            className=\"info__overview\"\r\n            style={{ marginTop: \"30px\" }}\r\n          >\r\n            {metadata.overview}\r\n          </Typography>\r\n          <div className=\"buttons__container\">\r\n            <div className=\"button\">\r\n              <ChildrenMenu props={props.props} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function TVSView(props) {\r\n  let { auth, id, metadata, server, thisprops } = props.props;\r\n  let hash = parseInt(queryString.parse(thisprops.location.search).q) || 0;\r\n  console.log(thisprops.location);\r\n\r\n  function isHash(n, hash) {\r\n    if (n === hash) {\r\n      return \"pls-playing\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"TVSView\">\r\n      <Typography\r\n        variant=\"h2\"\r\n        style={{ textAlign: \"center\", marginTop: \"25px\" }}\r\n      >\r\n        {metadata.name}\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h5\"\r\n        style={{ textAlign: \"center\", marginTop: \"15px\" }}\r\n      >\r\n        {metadata.children[hash].name}\r\n      </Typography>\r\n      <div className=\"plyr__component\">\r\n        <Plyr\r\n          source={{\r\n            type: \"video\",\r\n            poster:\r\n              `https://drive.google.com/thumbnail?sz=w1920&id=${metadata.children[hash].id}` ||\r\n              \"\",\r\n            sources: [\r\n              {\r\n                src: `${server}/api/v1/download/${metadata.children[hash].name}?a=${auth}&id=${metadata.children[hash].id}`,\r\n              },\r\n            ],\r\n          }}\r\n          options={{\r\n            controls: [\r\n              \"play-large\",\r\n              \"rewind\",\r\n              \"play\",\r\n              \"fast-forward\",\r\n              \"progress\",\r\n              \"current-time\",\r\n              \"duration\",\r\n              \"mute\",\r\n              \"volume\",\r\n              \"captions\",\r\n              \"settings\",\r\n              \"pip\",\r\n              \"airplay\",\r\n              \"download\",\r\n              \"fullscreen\",\r\n            ],\r\n          }}\r\n        />\r\n        <div class=\"plyr-playlist-wrapper\">\r\n          <ul class=\"plyr-playlist\">\r\n            {metadata.children.length\r\n              ? metadata.children.map((child, n) => (\r\n                  <li className={isHash(n, hash)}>\r\n                    <Link\r\n                      to={{\r\n                        pathname: thisprops.location.pathname,\r\n                        search: `?q=${n}`,\r\n                      }}\r\n                      key={uuid()}\r\n                    >\r\n                      <img class=\"plyr-miniposter\" />\r\n                      {child.name}\r\n                    </Link>\r\n                  </li>\r\n                ))\r\n              : null}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div style={{ textAlign: \"center\", marginBottom: \"5vh\" }}>\r\n        <PlayerMenu\r\n          props={{\r\n            auth: auth,\r\n            id: metadata.children[hash].id,\r\n            metadata: metadata.children[hash],\r\n            server: server,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function PlayerMenu(props) {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  let { auth, id, metadata, server } = props.props;\r\n\r\n  return (\r\n    <div className=\"PlayerMenu\" style={{ marginTop: \"30px\" }}>\r\n      <Button\r\n        aria-controls=\"player-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n      >\r\n        External Player\r\n      </Button>\r\n      <Menu\r\n        id=\"player-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        keepMounted\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"left\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"left\" }}\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <a\r\n          href={`vlc://${server}/api/v1/download/${metadata.name}?a=${auth}&id=${id}`}\r\n          className=\"no_decoration_link\"\r\n        >\r\n          <MenuItem onClick={handleClose}>VLC</MenuItem>\r\n        </a>\r\n        <a\r\n          href={`potplayer://${server}/api/v1/download/${metadata.name}?a=${auth}&id=${id}`}\r\n          className=\"no_decoration_link\"\r\n        >\r\n          <MenuItem onClick={handleClose}>PotPlayer</MenuItem>\r\n        </a>\r\n        <a\r\n          href={`${server}/api/v1/download/${metadata.name}?a=${auth}&id=${id}`}\r\n          className=\"no_decoration_link\"\r\n        >\r\n          <MenuItem onClick={handleClose}>Download</MenuItem>\r\n        </a>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ChildrenMenu(props) {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  let { metadata } = props.props;\r\n\r\n  return (\r\n    <div className=\"ChildrenMenu\" style={{ marginTop: \"30px\" }}>\r\n      <Button\r\n        aria-controls=\"children-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n      >\r\n        Seasons\r\n      </Button>\r\n      <Menu\r\n        id=\"children-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        keepMounted\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"left\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"left\" }}\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {metadata.children.length\r\n          ? metadata.children.map((child) => (\r\n              <Link\r\n                to={`/view/${child.id}`}\r\n                className=\"no_decoration_link\"\r\n                key={uuid()}\r\n              >\r\n                <MenuItem onClick={handleClose}>{child.name}</MenuItem>\r\n              </Link>\r\n            ))\r\n          : null}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  App,\r\n  Browse,\r\n  CategoryBrowse,\r\n  Login,\r\n  Logout,\r\n  Search,\r\n  Settings,\r\n  SettingsLoginForm,\r\n  theme,\r\n  uuid,\r\n  View,\r\n} from \"./components\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Route exact path={\"/\"} render={(props) => <App key={uuid()} {...props} />} />\r\n      <Route exact path={\"/browse\"} render={(props) => <Browse key={uuid()} {...props} />} />\r\n      <Route\r\n        exact\r\n        path={\"/browse/:category\"}\r\n        render={(props) => <CategoryBrowse key={uuid()} {...props} />}\r\n      />\r\n      <Route exact path={\"/login\"} render={(props) => <Login key={uuid()} {...props} />} />\r\n      <Route exact path={\"/logout\"} render={(props) => <Logout key={uuid()} {...props} />} />\r\n      <Route exact path={\"/search/:q\"} render={(props) => <Search key={uuid()} {...props} />} />\r\n      <Route exact path={\"/settings\"} render={(props) => <Settings key={uuid()} {...props} />} />\r\n      <Route exact path={\"/settings/login\"} render={(props) => <SettingsLoginForm key={uuid()} {...props} />} />\r\n      <Route exact path={\"/view/:id\"} render={(props) => <View key={uuid()} {...props} />} />\r\n    </ThemeProvider>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}